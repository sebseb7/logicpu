description: SEB ISA
general:
  min_version: 0.1.4
  endian: big
  address_size: 16
  registers:
    - a
    - b
    - c
    - d
    - fpo
    - ar
    - ao
  identifier:
    name: seb-isa
    version: "1.0.0"
    extension: seb1
operand_sets:
  integer:
    operand_values:
      int8:
        type: numeric
        argument:
          size: 8
          byte_align: true
  offset:
    operand_values:
      offset:
        type: deferred_numeric
        argument:
          size: 16
          byte_align: false
  register16a:
    operand_values:
      register_off:
        type: register
        register: fpo
        bytecode:
          value: 0
          size: 0
  register16b:
    operand_values:
      register_add:
        type: register
        register: ar
        bytecode:
          value: 0
          size: 0
  register16c:
    operand_values:
      register_add:
        type: register
        register: ao
        bytecode:
          value: 0
          size: 0 
  register:
    operand_values:
      register_a:
        type: register
        register: a
        bytecode:
          value: 0
          size: 2
          position: suffix
      register_b:
        type: register
        register: b
        bytecode:
          value: 1
          size: 2
          position: suffix
      register_c:
        type: register
        register: c
        bytecode:
          value: 2
          size: 2
          position: suffix
      register_d:
        type: register
        register: d
        bytecode:
          value: 3
          size: 2
          position: suffix
  register_4b:
    operand_values:
      register_a:
        type: register
        register: a
        bytecode:
          value: 1
          size: 4
          position: suffix
      register_b:
        type: register
        register: b
        bytecode:
          value: 2
          size: 4
          position: suffix
      register_c:
        type: register
        register: c
        bytecode:
          value: 3
          size: 4
          position: suffix
      register_d:
        type: register
        register: d
        bytecode:
          value: 4
          size: 4
          position: suffix
  address:
    operand_values:
      addr:
        type: indirect_numeric
        argument:
          size: 16
          byte_align: false
instructions:
  push:
    byte_code:
      value: 19
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - register 
  pop:
    byte_code:
      value: 18
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - register 
    variants:
      - var1:
        byte_code:
          value: 6
          size: 8
  sub:
    byte_code:
      value: 13
      size: 4
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - register
    variants:
      - var1:
        byte_code:
          value: 21
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - address
      - var2:
        byte_code:
          value: 20
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - integer
  xor:
    byte_code:
      value: 11
      size: 6
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - integer
  and:
    byte_code:
      value: 8
      size: 6
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - integer
  rsh:
    byte_code:
      value: 10
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - register
  rshc:
    byte_code:
      value: 9
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - register
  add:
    byte_code:
      value: 14
      size: 4
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - register
    variants:
      - var1:
        byte_code:
          value: 26
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - address
      - var2:
        byte_code:
          value: 27
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - integer
  addc:
    byte_code:
      value: 11
      size: 4
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - register
    variants:
      - var1:
        byte_code:
          value: 12
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - address
      - var2:
        byte_code:
          value: 13
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - integer
  mvay:
    byte_code:
      value: 15
      size: 8
  mvax:
    byte_code:
      value: 14
      size: 8
  hlt:
    byte_code:
      value: 0
      size: 8
  outa:
    byte_code:
      value: 7
      size: 8
  ld:
    byte_code:
      value: 25
      size: 6
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - address
    variants:
      - var1:
        byte_code:
          value: 24
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - integer
      - var1:
        byte_code:
          value: 12
          size: 4
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - register
      - var3:
        byte_code:
          value: 17
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - register16b
      - var4:
        byte_code:
          value: 16
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - register16a
      - var5:
        byte_code:
          value: 8
          size: 8
        operands:
          count: 3
          operand_sets:
            list:
              - register16c
              - register_4b
              - register_4b
  ldidx:
    byte_code:
      value: 32
      size: 8
    operands:
      count: 1
      operand_sets:
        list:
          - address
  ldo:
    byte_code:
      value: 33
      size: 8
    operands:
      count: 1
      operand_sets:
        list:
          - address
  andi:
    byte_code:
      value: 23
      size: 8
    operands:
      count: 1
      operand_sets:
        list:
          - integer
  addi:
    byte_code:
      value: 23
      size: 6
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - integer
  nop:
    byte_code:
      value: 1
      size: 8
  ldao:
    byte_code:
      value: 34
      size: 8
  ret:
    byte_code:
      value: 17
      size: 8
  xorb:
    byte_code:
      value: 19
      size: 8
  andb:
    byte_code:
      value: 20
      size: 8
  irq:
    byte_code:
      value: 127
      size: 8
  reti:
    byte_code:
      value: 126
      size: 8
  mvia:
    byte_code:
      value: 28
      size: 8
  sie:
    byte_code:
      value: 30
      size: 8
  cie:
    byte_code:
      value: 29
      size: 8
  call:
    byte_code:
      value: 125
      size: 8
    operands:
      count: 1
      operand_sets:
        list:
          - address
  st:
    byte_code:
      value: 22
      size: 6
    operands:
      count: 2
      operand_sets:
        list:
          - register
          - address
    variants:
      - var1:
        byte_code:
          value: 14
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - register16a
      - var2:
        byte_code:
          value: 15
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - register
              - register16b
      - var3:
        byte_code:
          value: 9
          size: 8
        operands:
          count: 3
          operand_sets:
            list:
              - register16c
              - register_4b
              - register_4b
  jmp:
    byte_code:
      value: 12
      size: 8
    operands:
      count: 1
      operand_sets:
        list:
          - address
  jmpcc:
    byte_code:
      value: 10
      size: 8
    operands:
      count: 1
      operand_sets:
        list:
          - address
  jmpz:
    byte_code:
      value: 21
      size: 8
    operands:
      count: 1
      operand_sets:
        list:
          - address
